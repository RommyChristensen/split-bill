<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- HEAD SECTION -->
		<!-- Set charset-->
		<meta charset="utf-8">

		<!-- IE Edge Meta Tag -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">

		<!-- Viewport -->
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

		<!-- Optional Theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
		
		<!-- jQuery UI CSS -->
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">

		<!-- Optional IE8 Support -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<!-- Page Title -->
		<title>Bootstrap Template</title>
	</head>

	<body>
	  <!-- Delete later -->
	  <h2>Split Bill</h2>

    <button id="addNewRowButton">Add New Row</button>

    <label>Orang</label>
    <input type="Nama" class="orang" />

    <table>
      <thead>
        <th>Nama Makanan</th>
        <th>Sub Total</th>
        <th>Orang</th>
      </thead>
      <tbody id="foods"></tbody>
    </table>

    <button id="show">Calculate & Show</button>
		
		<!-- FOOTER SECTION - Before closing </body> tag -->
		<!-- jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script>
		
		<!-- jQuery UI -->
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

		<!-- Minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		
		<!-- Your Own JavaScript-->
		<script type="text/javascript">
      $(document).ready(function() {
        let idx = 0;
        let allFood = [];
        
        $("#addNewRowButton").click(function() {
          $("#container").append(`
            <label>Nama Makanan</label>
            <input type="text" class="makanan-${idx}" />

            <label>Sub Total</label>
            <input type="number" class="subtotal-${idx}" />

            <label>Orang</label>
            <input type="Nama" class="orang-${idx}" />
          `);
          idx++;
        });
      });

      $("#show").click(function() {
        $("#foods").html('');
        allFood.clear();

        for(let i = 0; i < idx; i++){
          let namaMakanan = $(".makanan-"+i).val();
          let subTotal = $(".subtotal-"+i).val();
          let Orang = $(".orang-"+i).val();

          allFood.push({
            makanan: namaMakanan,
            subTotal: subTotal,
            orang: orang
          });

          showOnTable(allFood);
        }
      });

      let showOnTable = (allFood) => {
        for(let i = 0; i < allFood.length; i++) {
          $("#foods").append(`
            <tr>
              <td>${allFood.makanan}</td>
              <td>${allFood.subTotal}</td>
              <td>${allFood.orang}</td>
            </tr>
          `);
        }
      }


    </script>
	</body>
</html>
